<div class="close">
  <button mat-raised-button (click)="closeClick()">
    <mat-icon id="close-icon">close</mat-icon>
  </button>
</div>

<!-- za mail koji nije muhamed skikic -->
<!-- <form [formGroup]="messageForm" class="example-form " (ngSubmit)="onSubmit(messageForm.value)" *ngIf="getEmail != 'muhamed.skikic@mibo.ba'">
  
  <mat-card  class="messagecontet">
    <mat-form-field class="message-full-width">
      <textarea matInput name="TextMessage" formControlName="TextMessage" placeholder="Ostavite prijedlog"
        [matTextareaAutosize] required></textarea>

      <div class="sendmessagebtn">
        <button mat-mini-fab color="white" matTooltip="Pošalji" type="submit">
          <mat-icon aria-hidden="false" aria-label=" " class="sendicon">send</mat-icon>
        </button>
      </div>

      <mat-error *ngIf="messageForm.invalid">*Polje je obavezno</mat-error>
    </mat-form-field>
    <div class="upload-btn-wrapper">
      <button class="btn">Uvezi datoteke</button>
      <input #file type="file" id="file" (change)="uploadFileSave(file.files)">
      <div>
        <span id="chips" *ngFor="let item of ArrayOfFiles; let index = index">
          <mat-chip-list id="chip" class="no-wrap">
            <mat-chip><span>{{ item.name }}</span>
              <span id="closeIcon" (click)="remove(item)">
                <fa-icon [icon]="faWindowClose" class="fa-lg"></fa-icon>
              </span></mat-chip>
          </mat-chip-list>
        </span>
      </div>
    </div>
  </mat-card>
</form> -->

<!--  *ngIf="getEmail == 'muhamed.skikic@mibo.ba'"-->
<form [formGroup]="messageForm" class="example-form " (ngSubmit)="onSubmit(messageForm.value)" >
    <mat-form-field class="selectedgroup" >
    <mat-label>Izaberite grupu</mat-label>
    <mat-select name="Group" matSelect formControlName="Group" required>
      <mat-option value="prijedlozi">Razmjena prijedloga dobre prakse</mat-option>
      <mat-option value="dokumentacija">Dokumentacija/Pravilnik firme</mat-option>
      <mat-option value="uposlenici">Uposlenici</mat-option>
      <mat-option *ngIf="getEmail == 'muhamed.skikic@mibo.ba'" value="dokumentacija">Dokumentacija/Pravilnik firme</mat-option>
      <mat-option *ngIf="getEmail == 'muhamed.skikic@mibo.ba'" value="uposlenici">Uposlenici</mat-option>
    </mat-select>
    <mat-error *ngIf="messageForm.invalid">*Polje je obavezno</mat-error>
  </mat-form-field>

  <mat-card *ngIf="messageForm.value.Group=='prijedlozi'" class="messagecontet">
    <mat-form-field class="message-full-width">
      <textarea matInput name="TextMessage" formControlName="TextMessage" placeholder="Ostavite prijedlog"
        [matTextareaAutosize] required></textarea>

      <div class="sendmessagebtn">
        <button mat-mini-fab color="white" matTooltip="Pošalji" type="submit">
          <mat-icon aria-hidden="false" aria-label=" " class="sendicon">send</mat-icon>
        </button>
      </div>

      <mat-error *ngIf="messageForm.invalid">*Polje je obavezno</mat-error>
    </mat-form-field>
    <div class="upload-btn-wrapper">
      <button class="btn">Uvezi datoteke</button>
      <input #file type="file" id="file" (change)="uploadFileSave(file.files)">
      <div>
        <span id="chips" *ngFor="let item of ArrayOfFiles; let index = index">
          <mat-chip-list id="chip" class="no-wrap">
            <mat-chip><span>{{ item.name }}</span>
              <span id="closeIcon" (click)="remove(item)">
                <fa-icon [icon]="faWindowClose" class="fa-lg"></fa-icon>
              </span></mat-chip>
          </mat-chip-list>
        </span>
      </div>
    </div>
  </mat-card>
</form>


<form [formGroup]="documentForm" class="example-form " (ngSubmit)="onSubmitDocument(documentForm.value)" *ngIf="messageForm.value.Group=='dokumentacija'" >
  <!-- <mat-form-field *ngIf="getEmail == 'muhamed.skikic@mibo.ba'" class="selectedgroup" > -->
  
  <mat-card class="messagecontet">
    <mat-form-field class="message-full-width">
      <textarea matInput name="Title" formControlName="Title" placeholder="Napišite naslov dokumenta"
        [matTextareaAutosize] required></textarea>

      <div class="sendmessagebtn">
        <button mat-mini-fab color="white" matTooltip="Pošalji" type="submit">
          <mat-icon aria-hidden="false" aria-label=" " class="sendicon">send</mat-icon>
        </button>
      </div>

      <mat-error *ngIf="documentForm.invalid">*Polje je obavezno</mat-error>
    </mat-form-field>
    <div class="upload-btn-wrapper">
      <button class="btn">Uvezi datoteke</button>
      <input #file type="file" id="file" (change)="uploadDoc(file.files)">
      <div>
        <span id="chips" *ngFor="let item of documentFile; let index = index" >
          <mat-chip-list id="chip" class="no-wrap">
            <mat-chip><span>{{ item.name }}</span>
              <span id="closeIcon" (click)="removeDoc(documentFile)">
                <fa-icon [icon]="faWindowClose" class="fa-lg"></fa-icon>
              </span></mat-chip>
          </mat-chip-list>
        </span>
      </div>
    </div>
  </mat-card>
</form>



<form [formGroup]="employeeForm" class="example-form " (ngSubmit)="onSubmitEmployees(messageForm.value.Group)" *ngIf="messageForm.value.Group=='uposlenici'" >
  <mat-card  class="messagecontet">
    <mat-form-field class="message-full-width" appearance="standard">
      <mat-label>Unesite ime</mat-label>
      <input matInput placeholder="Ime" formControlName="Firstname">
      <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
      <mat-error *ngIf="messageForm.invalid">*Polje je obavezno</mat-error>
    </mat-form-field>

    <mat-form-field class="message-full-width" appearance="standard">
      <mat-label>Unesite prezime</mat-label>
      <input matInput placeholder="Prezime" formControlName="Lastname">
      <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
      <mat-error *ngIf="messageForm.invalid">*Polje je obavezno</mat-error>
    </mat-form-field>

    <mat-form-field class="message-full-width" appearance="standard">
      <mat-label>Unesite email uposlenika</mat-label>
      <input matInput placeholder="example@mibo.ba" formControlName="EmailEmployee" required>
      <mat-error *ngIf="messageForm.invalid">*Polje je obavezno</mat-error>
    </mat-form-field>

    <mat-form-field class="message-full-width" appearance="standard">
      <mat-label>Unesite telefon</mat-label>
      <input matInput placeholder="Tel" formControlName="Phone">
      <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
      <mat-error *ngIf="messageForm.invalid">*Polje je obavezno</mat-error>
    </mat-form-field>
    <div class="upload-btn-wrapper">
      <button class="btn">Uvezi sliku</button>
      <input #file type="file" id="file" (change)="uploadFileSave(file.files)">
      <div>
        <!-- *ngFor="let item of ArrayOfFiles; let index = index" -->
        <span id="chips" *ngFor="let item of ArrayOfFiles; let index = index">
          <mat-chip-list id="chip" class="no-wrap">
            <mat-chip><span>{{ item.name }}</span>
              <span id="closeIcon" (click)="remove(item)">
                <fa-icon [icon]="faWindowClose" class="fa-lg"></fa-icon>
              </span></mat-chip>
          </mat-chip-list>
          
        </span>
      </div>
    </div>

    <div class="sendmessagebtn">
      <button mat-mini-fab color="white" matTooltip="Pošalji" type="submit">
        <mat-icon aria-hidden="false" aria-label=" " class="sendicon">send</mat-icon>
      </button>
    </div> 
  </mat-card>

</form>